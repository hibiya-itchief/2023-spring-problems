<html>
  <head>
    <meta charset="UTF-8" />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-4ZVV48HJFZ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-4ZVV48HJFZ");
    </script>
    <title>解答 - 限界予備校生問題</title>
  </head>
  <body>
    <h1>限界予備校生問題</h1>
    問題は<a href="../problems.pdf">こちら</a>
    <h2>解答</h2>
    ②587.5分
    <h3>経路</h3>
    <p>日比谷高校→X会→山合→レストラン→銅青会→瞬台→T進→日比谷高校</p>
    <img src="./image0.png" />
    <h2>解説</h2>
    この問題は、情報科学や数学の分野で有名な巡回セールスマン問題という組み合わせ最適化問題をもとに作りました。
    <h3>組み合わせ全列挙で解く</h3>
    経路のパターンをすべて列挙して、所要時間を計算して最も短いものを答えとするという解き方です。シンプルですね。
    あり得る経路のパターンは6つのものを並べる順列として考えることができます。
    手計算ですべてを書き出すのは大変なのでPythonでプログラムを書き、求めました。<a
      href="https://github.com/hibiya-itchief/2023-spring-problems/blob/main/genkai-student/brute-force.py"
      >ソースコード</a
    >
    <h3>その他の解法</h3>
    <p>
      この問題では訪れるべき施設(予備校&レストラン)の数は6つでしたが、よび子さんがさらに多くの予備校に通うことになった場合を考えてみましょう。
    </p>
    <p>
      先ほど、あり得る経路のパターンは順列だと述べました。訪れるべき施設の数をNと置くと、経路は全てで
      N! 通りです。
    </p>
    <p>
      ただし、経路を逆からたどってもかかる時間は変わらないので、調べるべきパターンは
      N!/2 通りです。
    </p>
    <p>
      階乗というものは恐ろしく、N=10のときでパターン数は1814400通り、N=20では
      1.3 * 10^32
      通りを超え、爆発的に増えていきます。このくらいのパターン数になってくると、コンピュータを使っても何億、何京年かかります。
    </p>
    <p>
      Nが大きくなったとき、この問題の厳密な解を求めることは大変難しく、近似解を求める様々なアルゴリズムが研究されています。ぜひ巡回セールスマン問題を検索してみてください。
    </p>
    <h2>編集後記</h2>
    <p>
      最後まで読んでいただきありがとうございます。はじめに！この問題をコンピュータを使わずに紙面上だけで解くことは困難だと思います。そんな問題を出題してしまったことをお詫びします。当初は滞在時間や、レストランを訪問する時間の制約は付けず以下のような問題にしていました。
    </p>

    <img src="./image1.png" />

    <p>
      しかし、予備校の数がこれくらいであれば結構直観的に答えが分かってしまいます
    </p>

    <img src="./image2.png" />

    <p>
      そこで、各予備校での滞在時間やレストランを22:00までに訪問しなければいけないという制約を付けてみました。より現実に近い想定にはなりました。
    </p>
    <p>
      しかし結果的に、作問者の僕が思いつくことが出来、ご紹介できる解法が全列挙しかないという事態になってしまいました。これを紙面上で手計算でやらなければならないというのはとても酷ですね。。。
      この問題では正解を当てる、ということは言ってしまえばどうでもよく、効率的な解法を考えることが真の問です！(ごめんなさい) 効率的な解法を思いついた方、ぜひ教えてください！そしてIT委員会に入りましょう。
    </p>
    <p>
      この問題を通してプログラミングを用いてどうやって問題を解くかということを考え、そして計算量という概念やアルゴリズムについて興味を持っていただけたら幸いです。
      IT委員会のメンバーには、コンピュータを使って問題を解くための最適なアルゴリズムを考える、いわゆる競技プログラミングに取り組んでいる人もいます。ぜひ一緒にやってみませんか。
      巡回セールスマン問題もぜひ調べてみてください。
    </p>
  </body>
</html>
